(function(t){function e(e){for(var n,c,i=e[0],s=e[1],l=e[2],u=0,_=[];u<i.length;u++)c=i[u],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&_.push(o[c][0]),o[c]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n]);d&&d(e);while(_.length)_.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],n=!0,i=1;i<a.length;i++){var s=a[i];0!==o[s]&&(n=!1)}n&&(r.splice(e--,1),t=c(c.s=a[0]))}return t}var n={},o={app:0},r=[];function c(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.m=t,c.c=n,c.d=function(t,e,a){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)c.d(a,n,function(e){return t[e]}.bind(null,n));return a},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var d=s;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"3dd6":function(t,e,a){"use strict";a("797b")},4299:function(t,e,a){"use strict";a("4e0e")},"4e0e":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[t.loading?a("div",[t._v("Loading...")]):a("v-main",[a("Map",{attrs:{geojson_covid_vaccine_json:t.geojson_covid_vaccine_json,current_data_type:t.selected_data_type},on:{handleSelectedCountry:t.handleSelectedCountry}}),a("indicator",{attrs:{current_data_type:t.selected_data_type}}),a("data-card",{attrs:{selected_country_data:t.selected_country_data,selected_data_type:t.selected_data_type,show_selected_country_data:t.show_selected_country_data},on:{closeSelectedCountryData:t.closeSelectedCountryData}}),a("controller",{attrs:{selected_data_type:t.selected_data_type},on:{handleSelectedType:t.handleSelectedType}}),a("graph",{attrs:{selected_country_data:t.selected_country_data}})],1)],1)},r=[],c=a("5530"),i=a("1da1"),s=(a("d3b7"),a("d81d"),a("7db0"),a("96cf"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.show_selected_country_data?a("v-card",{staticClass:"card--info elevation-10 pa-2",attrs:{transition:"scale-transition",dark:""}},[a("v-list",{staticClass:"location",attrs:{dense:""}},[a("v-list-item",[a("v-list-item-content",[a("v-list-item-title",{staticClass:"title d-flex justify-space-between align-center"},[a("div",[t._v(" "+t._s(t.selected_country_data.location)+" "),a("span",{staticClass:"font-weight-light font-italic subtitle-2"},[t._v(t._s(t.selected_country_data.continent))])]),a("v-btn",{attrs:{icon:""},on:{click:t.closeSelectedCountryData}},[a("v-icon",[t._v("mdi-close")])],1)],1),a("v-list-item-content",{domProps:{textContent:t._s(t.selected_country_data.last_updated_date)}},[a("v-list-item-icon",[a("v-icon",{domProps:{textContent:t._s("mdi-calendar")}})],1)],1)],1)],1)],1),t._l(t.all_data_menu,(function(e,n){return a("v-list",{key:n+"-"+e.type},[a("v-list-item",[t._v(" "+t._s(e.type.charAt(0).toUpperCase()+e.type.slice(1))+" "),a("v-divider")],1),a("v-list-item",{staticClass:"d-flex flex-wrap"},t._l(e.data_show,(function(n,o){return a("v-chip",{key:o+"-"+n.tag_name,staticClass:"ma-2",attrs:{color:e.color,pill:"",outlined:""}},[a("span",{staticClass:"font-weight-regular mr-4"},[t._v(" "+t._s(n.tag_name.charAt(0).toUpperCase()+n.tag_name.slice(1))+": ")]),a("span",{staticClass:"font-weight-bold"},[t._v(" "+t._s(t.selected_country_data[n.value_key])+" ")])])})),1)],1)}))],2):t._e()}),l=[],d=[{type:"vaccination",value:"0",color:"success",data_show:[{tag_name:"last day vaccination",value_key:"new_vaccinations"},{tag_name:"total vaccination",value_key:"total_vaccinations"},{tag_name:"single dose",value_key:"people_vaccinated"},{tag_name:"full dose",value_key:"people_fully_vaccinated"},{tag_name:"vaccine name",value_key:"vaccine_name"}]},{type:"cases",value:"1",color:"orange",data_show:[{tag_name:"new cases",value_key:"new_cases"},{tag_name:"total cases",value_key:"total_cases"}]},{type:"deaths",value:"2",color:"red",data_show:[{tag_name:"new deaths",value_key:"new_deaths"},{tag_name:"total deaths",value_key:"total_deaths"}]}],u={name:"DataCard",props:["selected_country_data","selected_data_type","show_selected_country_data"],computed:{all_data_menu:{get:function(){return d}}},methods:{closeSelectedCountryData:function(){this.$emit("closeSelectedCountryData",!1)}}},_=u,p=(a("4299"),a("2877")),f=a("6544"),v=a.n(f),h=a("8336"),m=a("b0af"),y=a("cc20"),g=a("ce7e"),b=a("132d"),w=a("8860"),j=a("da13"),C=a("5d23"),x=a("34c3"),O=Object(p["a"])(_,s,l,!1,null,"1c8d5fa0",null),V=O.exports;v()(O,{VBtn:h["a"],VCard:m["a"],VChip:y["a"],VDivider:g["a"],VIcon:b["a"],VList:w["a"],VListItem:j["a"],VListItemContent:C["a"],VListItemIcon:x["a"],VListItemTitle:C["c"]});var k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-alert",{staticClass:"indicator elevation-10",attrs:{dark:""}},[t.data_indicator?a("v-list",{attrs:{dense:"",color:"#2196f300"}},[a("v-subheader",[a("p",{staticClass:"mb-0"},[t._v(" "+t._s(t.data_indicator.headline)+" ")])]),a("v-divider",{staticClass:"my-4 info",staticStyle:{opacity:"0.22"}}),t._l(t.data_indicator.indicator,(function(e,n){return a("v-list-item",{key:n+"-vaccine-indicator-"+e.title},[a("v-list-item-content",[a("v-list-item-subtitle",[t._v(t._s(e.title))]),a("v-list-item-subtitle",{style:"background:"+e.color+" ; min-height: 5px; min-width: 70px"})],1)],1)}))],2):t._e()],1)},D=[],S=["people_vaccinated_per_hundred","total_cases_per_million","total_deaths_per_million"],L={people_vaccinated_per_hundred:{headline:" Representing the number of single dose vaccinatin per million",indicator:[{title:"> 1500 ",color:"#008000"},{title:"> 1250",color:"#00b300"},{title:"> 1000",color:"#00e600"},{title:"> 750",color:"#1aff1a"},{title:"> 500",color:"#4dff4d"},{title:"> 250",color:"#80ff80"},{title:"> 100",color:"#b3ffb3"},{title:"< 100",color:"#e6ffe6"}]},total_cases_per_million:{headline:" Representing the number of cases per million",indicator:[{title:"> 1500",color:"#997300"},{title:"> 1250",color:"#cc9900"},{title:"> 1000",color:"#e6ac00"},{title:"> 750",color:"#ffc61a"},{title:"> 500",color:"#ffd24d"},{title:"> 250",color:"#ffdf80"},{title:"> 100",color:"#ffecb3"},{title:"< 100",color:"#fff9e6"}]},total_deaths_per_million:{headline:" Representing the number of deaths per million",indicator:[{title:"> 1500",color:"#800000"},{title:"> 1250",color:"#b30000"},{title:"> 1000",color:"#e60000"},{title:"> 750",color:"#ff1a1a"},{title:"> 500",color:"#ff4d4d"},{title:"> 250",color:"#ff8080"},{title:"> 100",color:"#ffb3b3"},{title:"< 100",color:"#ffe6e6"}]}},R=function(t){return L["".concat(t)]},I={name:"Indicator",props:["current_data_type"],computed:{data_indicator:{get:function(){return R(S[this.current_data_type])}}}},M=I,$=(a("f6fd"),a("0798")),P=a("e0c7"),A=Object(p["a"])(M,k,D,!1,null,"784d7f1f",null),T=A.exports;v()(A,{VAlert:$["a"],VDivider:g["a"],VList:w["a"],VListItem:j["a"],VListItemContent:C["a"],VListItemSubtitle:C["b"],VSubheader:P["a"]});var E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("l-map",{staticStyle:{height:"100vh",width:"100%","z-index":"0"},attrs:{zoom:t.zoom,center:t.center,"max-zoom":t.maxZoom}},[a("l-tile-layer",{attrs:{url:t.url,attribution:t.attribution}}),a("geo-json-layer",t._g({attrs:{geojson_covid_vaccine_json:t.geojson_covid_vaccine_json,data_type:t.data_type}},t.$listeners))],1)],1)},F=[],G=a("2699"),J=a("a40a"),z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.data_type},[a("l-geo-json",{attrs:{geojson:t.geojson_covid_vaccine_json,options:t.options,"options-style":t.styleFunction}})],1)},N=[],B=a("044a"),U={name:"geo-json-layer",components:{LGeoJson:B["a"]},props:["geojson_covid_vaccine_json","data_type"],computed:{options:{get:function(){var t=this;return console.log(this.data_type),{onEachFeature:function(e,a){a.options.fillColor=t.getColor(t.data_type,e.properties.covid_data[t.data_type]),e.properties.covid_data&&a.on("click",(function(e){return t.$emit("handleSelectedCountry",e.target.feature.properties.covid_data)}))}}}},styleFunction:{get:function(){return{weight:2,color:"rgba(0, 0, 0, 0.2)",opacity:1,fillOpacity:1}}}},methods:{getColor:function(t,e){return"people_vaccinated_per_hundred"===t?function(){return 1e4*e>1500?"#008000":1e4*e>1250?"#00b300":1e4*e>1e3?"#00e600":1e4*e>750?"#1aff1a":1e4*e>500?"#4dff4d":1e4*e>250?"#80ff80":1e4*e>100?"#b3ffb3":"#e6ffe6"}():"total_cases_per_million"===t?function(){return e>1500?"#997300":e>1250?"#cc9900":e>1e3?"#e6ac00":e>750?"#ffc61a":e>500?"#ffd24d":e>250?"#ffdf80":e>100?"#ffecb3":"#fff9e6"}():function(){return e>1500?"#800000":e>1250?"#b30000":e>1e3?"#e60000":e>750?"#ff1a1a":e>500?"#ff4d4d":e>250?"#ff8080":e>100?"#ffb3b3":"#ffe6e6"}()}}},H=U,W=Object(p["a"])(H,z,N,!1,null,null,null),Z=W.exports,q={name:"Map",components:{LMap:G["a"],LTileLayer:J["a"],GeoJsonLayer:Z},props:["geojson_covid_vaccine_json","current_data_type"],data:function(){return{zoom:2,maxZoom:4,center:[0,0],url:"https://cartodb-basemaps-{s}.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png",attribution:'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}},computed:{data_type:{get:function(){return S[this.current_data_type]}}}},K=q,Q=Object(p["a"])(K,E,F,!1,null,null,null),X=Q.exports,Y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"controller--type elevation-5",attrs:{dark:""}},[a("v-radio-group",{staticClass:"pl-6 pr-4",attrs:{column:""},on:{change:function(e){return t.$emit("handleSelectedType",t.type)}},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},t._l(t.data_menu,(function(t,e){return a("v-radio",{key:e+"-"+t.type+"-"+t.value,attrs:{label:t.type.charAt(0).toUpperCase()+t.type.slice(1),color:t.color,value:t.value}})})),1)],1)},tt=[],et={name:"Controller",props:["selected_data_type"],data:function(){return{type:"0"}},computed:{data_menu:{get:function(){return d}}}},at=et,nt=(a("a155"),a("67b6")),ot=a("43a6"),rt=Object(p["a"])(at,Y,tt,!1,null,"2c289574",null),ct=rt.exports;v()(rt,{VCard:m["a"],VRadio:nt["a"],VRadioGroup:ot["a"]});var it=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"elevation-10",attrs:{light:""}},[t.loading?a("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}}):t._e(),t.covid_data?a("v-list",[a("v-list-item",[a("v-list-item-subtitle",{staticClass:"title d-flex justify-space-between align-center"},[t._v(" Berif Covid history of "+t._s(t.selected_country_data.location)+" "),a("v-btn",{attrs:{icon:""},on:{click:t.resetCovidData}},[a("v-icon",[t._v("mdi-close")])],1)],1)],1),a("v-divider"),a("v-list-item",[a("apexchart",{attrs:{type:"area",height:"200",width:"550",options:t.covid_data.chartOptions,series:t.covid_data.series}})],1)],1):t._e()],1)},st=[],lt={name:"graph",data:function(){return{covid_data:null,fetchController:null,loading:!1}},props:["selected_country_data"],watch:{selected_country_data:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e,a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("Prop changed: ",e," | was: ",a),t.next=3,this.getCovidData(e.location);case 3:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}()},methods:{getCovidData:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var n,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.fetchController&&e.deactiveFetchController(),e.activeFetchController(),e.resetCovidData(),e.loading=!0,a.next=6,fetch("https://api.gitrows.com/https://github.com/owid/covid-19-data/blob/master/public/data/owid-covid-data.json?location=".concat(t),{signal:e.fetchController.signal});case 6:return n=a.sent,a.next=9,n.json();case 9:o=a.sent,e.covid_data=o[0]?{series:[{name:"Daily new cases",enabled:!1,data:o[0].data.map((function(t){return t.new_cases?t.new_cases:0}))},{name:"Daily new deaths",data:o[0].data.map((function(t){return t.new_deaths?t.new_deaths:0}))},{name:"Daily new vaccinations",data:o[0].data.map((function(t){return t.new_vaccinations?t.new_vaccinations:0}))}],chartOptions:{chart:{height:350,type:"area"},colors:["orange","red","green"],dataLabels:{enabled:!1},stroke:{curve:"smooth",width:1},xaxis:{type:"datetime",categories:o[0].data.map((function(t){return t.date}))},tooltip:{x:{format:"dd/MM/yy HH:mm"}}}}:null,e.loading=!1;case 12:case"end":return a.stop()}}),a)})))()},activeFetchController:function(){this.fetchController=new AbortController},deactiveFetchController:function(){this.fetchController&&this.fetchController.abort()},resetCovidData:function(){this.covid_data=null}}},dt=lt,ut=(a("3dd6"),a("490a")),_t=Object(p["a"])(dt,it,st,!1,null,"a07910f6",null),pt=_t.exports;v()(_t,{VBtn:h["a"],VCard:m["a"],VDivider:g["a"],VIcon:b["a"],VList:w["a"],VListItem:j["a"],VListItemSubtitle:C["b"],VProgressCircular:ut["a"]});var ft={name:"App",components:{Indicator:T,Map:X,DataCard:V,Controller:ct,Graph:pt},data:function(){return{loading:!1,geojson:null,covid_vaccine_json:null,covid_vaccine_name_json:null,geojson_covid_vaccine_json:null,show_selected_country_data:!1,selected_country_data:null,selected_data_type:"0"}},created:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,t.fetchGeoJsonData();case 3:return t.geojson=e.sent,e.next=6,t.fetchCovidVaccineData();case 6:return t.covid_vaccine_json=e.sent,e.next=9,t.fetchCovidVaccineName();case 9:return t.covid_vaccine_name_json=e.sent,e.next=12,t.covidVaccineDataAndCovidVaccineNameMargeWithGeoJsonData();case 12:t.geojson_covid_vaccine_json=e.sent,t.loading=!1;case 14:case"end":return e.stop()}}),e)})))()},methods:{fetchGeoJsonData:function(){return Object(i["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.gitrows.com/https://github.com/johan/world.geo.json/blob/master/countries.geo.json");case 2:return e=t.sent,t.next=5,e.json();case 5:return a=t.sent,t.abrupt("return",a);case 7:case"end":return t.stop()}}),t)})))()},fetchCovidVaccineData:function(){return Object(i["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.gitrows.com/https://github.com/owid/covid-19-data/blob/master/public/data/latest/owid-covid-latest.json");case 2:return e=t.sent,t.next=5,e.json();case 5:return a=t.sent,t.abrupt("return",a);case 7:case"end":return t.stop()}}),t)})))()},fetchCovidVaccineName:function(){return Object(i["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.gitrows.com/https://github.com/owid/covid-19-data/blob/master/public/data/vaccinations/locations.csv");case 2:return e=t.sent,t.next=5,e.json();case 5:return a=t.sent,t.abrupt("return",a);case 7:case"end":return t.stop()}}),t)})))()},covidVaccineDataAndCovidVaccineNameMargeWithGeoJsonData:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.geojson.features.map((function(e){return Object(c["a"])(Object(c["a"])({},e),{},{properties:Object(c["a"])(Object(c["a"])({},e.properties),{},{covid_data:t.covid_vaccine_json[e.id]})})}));case 2:return a=e.sent,e.next=5,a.map((function(e){return Object(c["a"])(Object(c["a"])({},e),{},{properties:Object(c["a"])(Object(c["a"])({},e.properties),{},{covid_data:Object(c["a"])(Object(c["a"])({},e.properties.covid_data),{},{vaccine_name:function(){var a=t.covid_vaccine_name_json.find((function(t){return t.iso_code===e.id}));return a?a.vaccines:null}()})})})}));case 5:return a=e.sent,console.log(a),e.abrupt("return",{type:"FeatureCollection",features:a});case 8:case"end":return e.stop()}}),e)})))()},handleSelectedCountry:function(t){this.show_selected_country_data=!0,this.selected_country_data=t},handleSelectedType:function(t){this.selected_data_type=t},closeSelectedCountryData:function(){this.show_selected_country_data=!1}}},vt=ft,ht=a("7496"),mt=a("f6c4"),yt=Object(p["a"])(vt,o,r,!1,null,null,null),gt=yt.exports;v()(yt,{VApp:ht["a"],VMain:mt["a"]});a("6cc5");var bt=a("f309");n["a"].use(bt["a"]);var wt=new bt["a"]({theme:{dark:!1}}),jt=a("1321"),Ct=a.n(jt);n["a"].config.productionTip=!1,n["a"].use(Ct.a),n["a"].component("apexchart",Ct.a),new n["a"]({vuetify:wt,render:function(t){return t(gt)}}).$mount("#app")},65474:function(t,e,a){},"797b":function(t,e,a){},a155:function(t,e,a){"use strict";a("65474")},aac2:function(t,e,a){},f6fd:function(t,e,a){"use strict";a("aac2")}});
//# sourceMappingURL=app.6f9e8338.js.map